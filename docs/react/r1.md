---
title: 说说React事件和原生事件的执行顺序
order: 1
group:
  title: React
  order: 2
---

# 说说 React 事件和原生事件的执行顺序

我们知道，React 在内部对事件做了统一的处理，合成事件是一个比较大的概念

### 为什么要有合成事件

- 1.在传统的事件里，不同的浏览器需要兼容不同的写法，在合成事件中 React 提供统一的事件对象，抹平了浏览器的兼容性差异
- 2.React 通过顶层监听的形式，通过事件委托的方式来统一管理所有的事件，可以在事件上区分事件优先级，优化用户体验
  React 在合成事件上对于 16 版本和 17 版本的合成事件有很大不同，我们也会简单聊聊区别。

### 概念

##### 事件委托

事件委托的意思就是可以通过给父元素绑定事件委托，通过事件对象的 target 属性可以获取到当前触发目标阶段的 dom 元素，来进行统一管理

比如写原生 dom 循环渲染的时候，我们要给每一个子元素都添加 dom 事件，这种情况最简单的方式就是通过事件委托在父元素做一次委托，通过 target 属性判断区分做不同的操作

##### 事件监听

事件监听主要用到了 addEventListener 这个函数，具体怎么用可以点击进行查看 事件监听和事件绑定的最大区别就是事件监听可以给一个事件监听多个函数操作，而事件绑定只有一次

```javascript
// 可以监听多个，不会被覆盖
eventTarget.addEventListener('click', () => {});
eventTarget.addEventListener('click', () => {});

eventTarget.onclick = function () {};
eventTarget.onclick = function () {}; // 第二个会把第一个覆盖
```

##### 事件执行顺序

```html
<div>
  <span>点我</span>
</div>
```

当我们点击 span 标签的时候会经过这么三个过程，在路径内的元素绑定的事件都会进行触发

捕获阶段 => 目标阶段 => 冒泡阶段
